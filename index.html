<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- ============================================ -->
    <!-- ADVANCED SURFACE TRACKING INTEGRATION      -->
    <!-- ============================================ -->
    <!-- Professional surface tracking implementation -->
    <!-- showcasing sophisticated SDK features       -->
    <!-- ============================================ -->

    <meta charset="utf-8" />
    <meta
      name="description"
      content="Advanced Surface Tracking Integration - Professional WebAR implementation with sophisticated SDK features and minimal UI approach"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />
    <meta name="author" content="Blippar" />
    <meta
      name="keywords"
      content="WebAR, Surface Tracking, Augmented Reality, Blippar SDK, AR Integration"
    />

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon.png" />
    <link rel="shortcut icon" href="assets/favicon.png" />

    <title>Advanced Surface Tracking Integration - WebAR SDK</title>

    <!-- ============================================ -->
    <!-- DEPENDENCIES                                -->
    <!-- ============================================ -->

    <!-- A-Frame WebVR/WebXR Framework -->
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe-extras@7.4.0/dist/aframe-extras.min.js"></script>

    <!-- Custom Styling -->
    <link rel="stylesheet" type="text/css" href="styles.css" media="all" />
    <link
      rel="stylesheet"
      type="text/css"
      href="game-header/styles.css"
      media="all"
    />
    <link
      rel="stylesheet"
      type="text/css"
      href="game-completed/styles.css"
      media="all"
    />

    <!-- Custom Progress & Error Handlers (MUST load before SDK) -->
    <script src="custom-handlers.js"></script>

    <!-- ============================================ -->
    <!-- WEBARSDK CONFIGURATION                      -->
    <!-- ============================================ -->

    <!-- DIRECT SDK USAGE (replace with your SDK path) -->
    <script
      src="./assets/blippar-webar-sdk/webar-sdk/webar-sdk-v2.0.8.min.js"
      on-load=""
      on-progress="customProgressCallback"
      on-error="customErrorCallback"
      webar-mode="surface-tracking"
      auto-init="true"
      auto-start-tracking="true"
      minimal-ui="true"
      render-scene-on-desktop="false"
      external-camera-stream="true"
      debug-mode="false"
    ></script>
  </head>

  <body style="touch-action: none">
    <!-- ============================================ -->
    <!-- Header                                       -->
    <!-- ============================================ -->
    <section class="game-header" id="game-header">
      <div class="top-section">
        <h5 class="mb-0">Catch 5G Charachter</h5>
        <div class="timer-container">
          <span>
            <svg
              width="17"
              height="19"
              viewBox="0 0 17 19"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M8.24995 3.73214C8.04156 3.73214 7.84171 3.64936 7.69436 3.50201C7.54701 3.35466 7.46423 3.15481 7.46423 2.94643V0.785714C7.46423 0.57733 7.54701 0.37748 7.69436 0.23013C7.84171 0.0827804 8.04156 0 8.24995 0C8.45833 0 8.65818 0.0827804 8.80553 0.23013C8.95288 0.37748 9.03566 0.57733 9.03566 0.785714V2.94643C9.03566 3.15481 8.95288 3.35466 8.80553 3.50201C8.65818 3.64936 8.45833 3.73214 8.24995 3.73214ZM13.6635 5.97929C13.508 5.97963 13.3558 5.93375 13.2264 5.84748C13.097 5.7612 12.9961 5.63842 12.9366 5.49472C12.8771 5.35101 12.8616 5.19286 12.8921 5.04034C12.9226 4.88782 12.9978 4.74781 13.108 4.63807L14.7659 2.98021C14.8388 2.90726 14.9254 2.8494 15.0207 2.80992C15.1161 2.77044 15.2182 2.75012 15.3214 2.75012C15.4245 2.75012 15.5267 2.77044 15.622 2.80992C15.7173 2.8494 15.8039 2.90726 15.8769 2.98021C15.9498 3.05316 16.0077 3.13977 16.0472 3.23508C16.0867 3.33039 16.107 3.43255 16.107 3.53571C16.107 3.63888 16.0867 3.74104 16.0472 3.83635C16.0077 3.93166 15.9498 4.01826 15.8769 4.09121L14.219 5.74907C14.1461 5.82207 14.0595 5.87998 13.9642 5.91948C13.8689 5.95898 13.7667 5.97931 13.6635 5.97929Z"
                fill="#0D0D0D"
              />
              <path
                d="M10.6072 1.57143H5.89289C5.68451 1.57143 5.48466 1.48865 5.33731 1.3413C5.18996 1.19395 5.10718 0.994099 5.10718 0.785714C5.10718 0.57733 5.18996 0.37748 5.33731 0.23013C5.48466 0.0827804 5.68451 0 5.89289 0L10.6072 0C10.8156 0 11.0154 0.0827804 11.1628 0.23013C11.3101 0.37748 11.3929 0.57733 11.3929 0.785714C11.3929 0.994099 11.3101 1.19395 11.1628 1.3413C11.0154 1.48865 10.8156 1.57143 10.6072 1.57143Z"
                fill="#0D0D0D"
              />
              <path
                d="M8.25 2.35718C3.70071 2.35718 0 6.05789 0 10.6072C0 15.1565 3.70071 18.8572 8.25 18.8572C12.7993 18.8572 16.5 15.1565 16.5 10.6072C16.5 6.05789 12.7993 2.35718 8.25 2.35718Z"
                fill="#0D0D0D"
              />
              <path
                d="M11.0785 14.3786C10.996 14.4405 10.902 14.4855 10.8021 14.5111C10.7021 14.5367 10.5981 14.5424 10.496 14.5278C10.3938 14.5132 10.2956 14.4787 10.2068 14.4261C10.118 14.3735 10.0404 14.304 9.97852 14.2214L7.62138 11.0786C7.51922 10.9426 7.46406 10.7772 7.46423 10.6071V6.28571C7.46423 6.07733 7.54701 5.87748 7.69436 5.73013C7.84171 5.58278 8.04156 5.5 8.24995 5.5C8.45833 5.5 8.65818 5.58278 8.80553 5.73013C8.95288 5.87748 9.03566 6.07733 9.03566 6.28571V10.3455L11.2357 13.2786C11.3607 13.4453 11.4144 13.6548 11.3849 13.8611C11.3554 14.0674 11.2452 14.2535 11.0785 14.3786Z"
                fill="white"
              />
            </svg>
          </span>
          <span class="value" id="timer-value">01:00</span>
        </div>
      </div>
      <div class="bottom-section">
        <div class="my-progress-bar">
          <div class="my-progress" id="progress" style="width: 0%"></div>
        </div>
      </div>
      <div class="icon-container">
        <img
          src="https://web.vodafone.com.eg/documents/d/vodafone/homeyogo"
          alt="icon"
        />
      </div>
    </section>

    <!-- ============================================ -->
    <!-- AFRAME AR SCENE                             -->
    <!-- ============================================ -->

    <div id="aframe-container">
      <a-scene
        id="mainScene"
        webar-scene="key: f95ca32b-d4c0-4fe7-be2a-bc76202fe08e"
        xr-mode-ui="enabled: false"
        device-orientation-permission-ui="enabled: false"
        renderer="antialias: true; colorManagement: true; physicallyCorrectLights: true; sortTransparentObjects: true; precision: high; logarithmicDepthBuffer: false;"
        raycaster="objects: .clickable"
        loading-screen="enabled: false"
        cursor="fuse: false; rayOrigin: mouse"
      >
        <!-- AR Camera -->
        <a-camera webar-camera></a-camera>
        <!-- <a-camera webar-camera look-controls="enabled: true" cursor="rayOrigin: mouse"></a-camera> -->

        <!-- ============================================ -->
        <!-- AR CONTENT STAGE                            -->
        <!-- ============================================ -->
        <!-- All AR content should be placed under webar-stage -->
        <a-assets timeout="60000">
          <a-asset-item
            id="yougo_model"
            src="assets/models/menofeya.glb"
          ></a-asset-item>
        </a-assets>
        <a-entity webar-stage>
          <a-entity
            webar-ux-control="stageCursorUX: false; userGestureRotation: false; userGestureScale: false"
          >
            <!-- Blue Cube -->
            <a-box
              position="1 0.5 -4"
              rotation="0 45 0"
              color="#4CC3D9"
              shadow="cast: true; receive: true"
            >
            </a-box>

            <a-entity
              class="clickable"
              gltf-model="#yougo_model"
              animation-mixer="clip: *"
              id="armodel"
              rotation="0 0 0"
              position="3 0.5 -2"
              shadow="cast: false; receive: false"
              scale="1.5 1.5 1.5"
              draco-loader="decoderPath: https://www.gstatic.com/draco/v1/decoders/"
              webar-loadmonitor="elType: glb"
              visible="false"
            >
            </a-entity>
          </a-entity>
        </a-entity>

        <!-- ============================================ -->
        <!-- LIGHTING SETUP                             -->
        <!-- ============================================ -->

        <!-- Ambient Light -->
        <a-entity light="type: ambient; color: #EEE; intensity: 2.1">
        </a-entity>

        <!-- Directional Light -->
        <a-entity
          light="type: directional; color: #FFF; intensity: 3.14; castShadow: false;"
          position="-0.5 1 1"
        >
        </a-entity>
      </a-scene>
    </div>

    <!-- ============================================ -->
    <!-- LOADING & PERMISSION UI                    -->
    <!-- ============================================ -->

    <!-- Loading Screen (enhanced by custom-handlers.js) -->
    <div id="loadingscreen" class="fullscreenflexcol showflex">
      <div>Loading...</div>
    </div>

    <!-- Camera Permission Dialog -->
    <div id="camperms" class="permholder hide">
      <div>ðŸ“· Camera Access Required</div>
      <div>We need access to your camera for this AR experience to work.</div>
      <div id="cambutton" class="permsbutton">Grant Access</div>
    </div>

    <!-- Motion Sensor Permission Dialog (iOS) -->
    <div id="gyroperms" class="permholder hide">
      <div>ðŸ“± Motion Sensors Required</div>
      <div>
        We need access to motion sensors for AR tracking to work properly.
      </div>
      <div id="gyrobutton" class="permsbutton">Grant Access</div>
    </div>

    <!-- ============================================ -->
    <!-- CAMERA & PERMISSION HANDLER                -->
    <!-- ============================================ -->

    <!-- <div id="logContainer"></div> -->

    <!-- ============================================ -->
    <!-- Game Complete                -->
    <!-- ============================================ -->
    <!-- <div id="game-complete-popup" class="">
      <div class="content"></div>
      <a
        id="game-completed-button"
        href="https://vf.eg/Ram25?caughtCharachter=false&time=0"
        target="_self"
      >
        Continue
      </a>
    </div> -->
    <script src="reset-btn-workaround.js"></script>
    <script src="game-header/gameHeaderScript.js"></script>
    <script src="loader.js"></script>
    <script src="./game-completed/postMessage.js"></script>
    <script src="onModelClick.js"></script>
    <script src="game-exp.js"></script>
    <script src="levels/levels.js"></script>
    <!-- <script src="console.override.js"></script> -->
  </body>
</html>

